## Minesweeper
This minesweeper game is built in C# using Blazor WebAssembly as a client rendered ASP.NET Core solution.

## Demos
Please check the Demos directory for 2 demos displaying both success and failure scenarios.

## Game Display
- The display has the game board itself with its tiles.
- A tile can be revealed with a left click on it.
- User can also mark any tile as flagged or remove the flag with a right click on the tile.
- On the very top of the board, the user can configure the width and height of the board.
- Also, on the top left of the board, a counter displays the remaining number of flags. At the beginning of a game, this counter shows the number of the mines inside the board.
- To the right of the counter, a smiley face is displayed and can be clicked to start or restart a game. Such face changes according to the state of the game, either in-progress, won, or lost.
- To the right of the face, a stopwatch is displayed to show the spent time solving the game. The stopwatch starts when the smiley face is clicked and keeps counting to 999 seconds as the maximum threshold.

## Stylesheets
The style of the game board is intentionally made to be similar to the online game: https://minesweeper.online/

All utilized stylesheets can be viewed inside Minesweeper/MineSweeper/wwwroot/css/ directory.

## Directories and Code Structure
For visualization of the code structure, i.e. classes and their documented functions, properties, fields, etc., please view the index.html file under Minesweeper/html directory.

This file was generated by Doxygen tool.

Doxygen tool generated 2 directories. They are both tracked and kept for reference:

- Minesweeper/html
- Minesweeper/latex

The main directories for the game logic are
- Minesweeper/MineSweeper/Models/
  - The directory contains 2 files
    - GameBoard.cs, where all the logic for the game board is done.
    - Tile.cs, where logic concerning the game tile is done.
  - The directory also has 2 sub-directories
    - Constants, where all constants used across the code are created.
    - Enums, where all enum values used across the code are created.
- Minesweeper/MineSweeper/Pages/
  - It has the Index.razor file where HTML and C# are used together to display the game on the UI side.

- Minesweeper/MineSweeper/wwwroot/js/
  - It has the utilities.js file where some JavaScript utility functions are implemented in order to do some recurring actions on the UI components.

## GitHub Actions
The project is configured with 2 actions (versionsweeper and code-analysis) that are responsible for the following
  - Checking the target .NET version and issuing alerts when targeted versions are no longer supported.
  - Running some static code analysis on the pushed code to make sure it complies with all rules specified in: https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/overview

## Game Flow
- Each game starts with a default board size of 17x17 tiles.
- Users have the ability to customize the board size by changing its width and/or height. Supported width/height range is between 5 to 35. If the user inputs a value out of this range, it will be modified to nearest maximum or minimum value allowed for the range, based on the input number, i.e. if the input is 3, the value will become 5, but if the value is 50, the value will become 35. Modifying such numbers will occur when the game is started.
- To start a game with a new configuration or just restart the game, the face image should be pressed.
- The locations of mines are determined randomly and their number is determined by the board size such that the number of mines equals 20% of the width*Height of board, approximated to the highest integer, i.e. if the number of tiles is calculated to be 57, it will become 58.
- The first move determines the location of the mines. The locations of mines are not pre-determined before making the first move. This ensures that the first move, tile reveal, will always succeed and that tile will never contain a mine. Also, adjacent tiles to this first tile will never be mine tiles.
- Adjacent tile are considered to be any tile adjacent to the current tile horizontally, vertically, and diagonally. This means that any tile except for the edges (first or last column or row) should have 9 adjacent tiles.
- The number displayed on each tile represents the number of adjacent mine tiles.
- When revealing a tile that has no adjacent mine tiles, it will reveal all of these adjacent tiles, and the same will occur for such revealed tiles as well. Please note that in this scenario, if a flag is added on any of these adjacent tiles, it will be removed and the number of remaining flags will be incremented accordingly.
- The face image changes from the smiley face to a surprised face whenever the user reveals a new tile.

## Winning Scenario
Two cases have to be satisfied to declare a win:
- All non-mine tiles have been revealed.
- All the mine tiles have been flagged.

To indicate a win, the following will happen:
- The face image will change to a different face to show a win.
- Further moves/reveals on the tiles will be disabled until the game is restarted.
- The stopwatch will be stopped.

## Loss Scenario
Revealing a mine tile will
- reveal all the mine tiles on board.
- change the face image to a sad face to represent a loss.
- disable further moves/reveals on the tiles until the game is restarted.
- stop the stopwatch.
